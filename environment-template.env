# 环境变量配置模板
# 请复制此文件为 .env 并填入实际的配置值
# 注意：.env 文件包含敏感信息，不应提交到版本控制系统

# =============================================================================
# 通用配置
# =============================================================================

# =============================================================================
# 大语言模型配置
# =============================================================================
# 模型提供商选择: dashscope（阿里云，默认）| ollama（本地模型）| openai（OpenAI）
SPRING_AI_PROVIDER=dashscope

# 阿里云大模型API密钥
# 获取方式：https://dashscope.console.aliyun.com/
DASHSCOPE_API_KEY=sk-your-api-key-here
# 阿里云聊天模型名称
DASHSCOPE_CHAT_MODEL=qwen3-coder-plus
# 阿里云嵌入模型名称
DASHSCOPE_EMBEDDING_MODEL=text-embedding-v4

# Ollama 本地大模型配置
# Ollama 服务地址（默认本地）
OLLAMA_BASE_URL=http://localhost:11434
# Ollama 聊天模型名称（推荐用于代码任务的模型）
OLLAMA_CHAT_MODEL=qwen2.5-coder:14b
# Ollama 嵌入模型名称
OLLAMA_EMBEDDING_MODEL=nomic-embed-text
# Ollama 连接超时时间（秒）
OLLAMA_TIMEOUT=60

# OpenAI 大模型配置
# OpenAI API密钥，获取方式：https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key
# OpenAI API基础URL（可用于代理或替代服务）
OPENAI_BASE_URL=https://api.openai.com
# OpenAI 聊天模型名称
OPENAI_CHAT_MODEL=gpt-4o
# OpenAI 嵌入模型名称
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# =============================================================================
# Redis 配置
# =============================================================================
REDIS_HOST=your-address
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password
REDIS_TIMEOUT=5000

# =============================================================================
# Kafka 配置（CodeBase-Wiki 专用）
# =============================================================================
KAFKA_BOOTSTRAP_SERVERS=your-address:9092

# =============================================================================
# Elasticsearch 配置（CodeBase-Wiki 专用）
# =============================================================================
ELASTICSEARCH_URIS=http://your-address:9200
ELASTICSEARCH_USERNAME=elastic
ELASTICSEARCH_PASSWORD=your-elasticsearch-password

# =============================================================================
# 代码解析服务配置（CodeBase-Wiki 专用）
# =============================================================================
CODE_PARSER_URL=http://your-address:8566

# =============================================================================
# GitHub 配置（CodeBase-Review 专用）
# =============================================================================
# GitHub 个人访问令牌
# 获取方式：GitHub Settings -> Developer settings -> Personal access tokens
GITHUB_TOKEN=ghp_your-github-token-here
GITHUB_WEBHOOK_SECRET=your-webhook-secret

# =============================================================================
# 项目配置
# =============================================================================
# Git仓库本地克隆根目录
# Windows 示例: D:\Code\repository
# Linux/Mac 示例: /home/user/repositories
GIT_REPOSITORY_BASE_PATH=/your/repository/path

# =============================================================================
# 飞书机器人配置
# =============================================================================
FEISHU_ENABLED=true

# 飞书Wiki文档机器人
# 获取方式：飞书管理后台 -> 应用管理 -> 机器人
FEISHU_WIKI_WEBHOOK=https://open.feishu.cn/open-apis/bot/v2/hook/your-wiki-webhook-id
FEISHU_WIKI_SECRET=your-wiki-secret

# 飞书代码评审机器人
FEISHU_REVIEW_WEBHOOK=https://open.feishu.cn/open-apis/bot/v2/hook/your-review-webhook-id
FEISHU_REVIEW_SECRET=your-review-secret

# =============================================================================
# 钉钉机器人配置
# =============================================================================
DINGTALK_ENABLED=true

# 钉钉Wiki文档机器人
# 获取方式：钉钉管理后台 -> 机器人管理 -> 自定义机器人
DINGTALK_WIKI_WEBHOOK=https://oapi.dingtalk.com/robot/send?access_token=your-wiki-token
DINGTALK_WIKI_SECRET=your-wiki-secret

# 钉钉代码评审机器人
DINGTALK_REVIEW_WEBHOOK=https://oapi.dingtalk.com/robot/send?access_token=your-review-token
DINGTALK_REVIEW_SECRET=your-review-secret

# =============================================================================
# 配置说明
# =============================================================================
# 
# 1. 必需配置项：
#    A. 使用阿里云DashScope（默认）:
#       - DASHSCOPE_API_KEY: 阿里云大模型服务必需
#    B. 使用本地Ollama模型:
#       - SPRING_AI_PROVIDER=ollama
#       - OLLAMA_BASE_URL: Ollama服务地址
#       - 确保Ollama服务已启动并下载相应模型
#    C. 使用OpenAI模型:
#       - SPRING_AI_PROVIDER=openai
#       - OPENAI_API_KEY: OpenAI API密钥必需
#       - OPENAI_BASE_URL: API服务地址（可选，默认官方地址）
#    
#    其他必需配置：
#    - GITHUB_TOKEN: GitHub集成功能必需
#    - FEISHU_*_WEBHOOK 和 FEISHU_*_SECRET: 飞书通知功能必需
#    - DINGTALK_*_WEBHOOK 和 DINGTALK_*_SECRET: 钉钉通知功能必需
#
# 2. 模型提供商切换：
#    - 阿里云DashScope: SPRING_AI_PROVIDER=dashscope （默认）
#    - 本地Ollama: SPRING_AI_PROVIDER=ollama
#    - OpenAI: SPRING_AI_PROVIDER=openai
#    - 切换后需要重启应用才能生效
#
# 3. 模型推荐：
#    A. Ollama 本地模型：
#       - 代码任务: qwen2.5-coder:14b, codellama:13b
#       - 通用任务: qwen2.5:14b, llama3.1:8b
#       - 嵌入模型: nomic-embed-text, mxbai-embed-large
#       - 安装命令: ollama pull qwen2.5-coder:14b
#    B. OpenAI 模型：
#       - 代码任务: gpt-4o, gpt-4o-mini, o1-preview
#       - 通用任务: gpt-4o, gpt-4-turbo
#       - 嵌入模型: text-embedding-3-small, text-embedding-3-large
#       - 经济选择: gpt-4o-mini（性价比高）
#
# 4. 可选配置项（有默认值）：
#    所有其他配置项都有默认值，可根据实际环境调整
#
# 5. 安全注意事项：
#    - 不要将此文件中的实际密钥值提交到版本控制
#    - 在生产环境中使用强密码和安全的密钥
#    - 定期轮换API密钥和访问令牌
#    - 限制密钥的访问权限和使用范围
#
# 6. 不同环境配置：
#    - 开发环境：可使用测试用的webhook和较宽松的配置，建议使用本地Ollama
#    - 生产环境：必须使用正式的webhook和严格的安全配置
#    - 建议为不同环境使用不同的密钥和配置
